Oct-31 12:59:31.348 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf -c nextflow.config
Oct-31 12:59:31.541 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 22.05.0-edge
Oct-31 12:59:31.596 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/ninon/description_prototype/v1/generated_workflow/nextflow.config
Oct-31 12:59:31.600 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /home/ninon/description_prototype/v1/generated_workflow/nextflow.config
Oct-31 12:59:31.601 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/ninon/description_prototype/v1/generated_workflow/nextflow.config
Oct-31 12:59:31.601 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/ninon/description_prototype/v1/generated_workflow/nextflow.config
Oct-31 12:59:31.646 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Oct-31 12:59:32.911 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Oct-31 12:59:32.980 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declararion
Oct-31 12:59:33.029 [main] INFO  nextflow.cli.CmdRun - Launching `main.nf` [jolly_mcclintock] DSL2 - revision: 80d37380a2
Oct-31 12:59:33.067 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; plugins-dir=/home/ninon/.nextflow/plugins; core-plugins: nf-amazon@1.8.0,nf-azure@0.13.2,nf-console@1.0.3,nf-ga4gh@1.0.3,nf-google@1.2.0,nf-sqldb@0.4.1,nf-tower@1.4.0
Oct-31 12:59:33.077 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Oct-31 12:59:33.133 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Oct-31 12:59:33.147 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Oct-31 12:59:33.171 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Oct-31 12:59:33.216 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Oct-31 12:59:33.355 [main] DEBUG nextflow.Session - Session uuid: 0bef0057-2903-4662-a206-fc8992342bb4
Oct-31 12:59:33.357 [main] DEBUG nextflow.Session - Run name: jolly_mcclintock
Oct-31 12:59:33.358 [main] DEBUG nextflow.Session - Executor pool size: 4
Oct-31 12:59:33.457 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 22.05.0-edge build 5704
  Created: 25-05-2022 17:39 UTC (19:39 CEST)
  System: Linux 5.4.0-150-generic
  Runtime: Groovy 3.0.10 on OpenJDK 64-Bit Server VM 17.0.7+7-Ubuntu-0ubuntu118.04
  Encoding: UTF-8 (ISO-8859-1)
  Process: 11808@helga [127.0.1.1]
  CPUs: 4 - Mem: 7.2 GB (171.8 MB) - Swap: 7.4 GB (1.7 GB)
Oct-31 12:59:33.531 [main] DEBUG nextflow.Session - Work-dir: /home/ninon/description_prototype/v1/generated_workflow/work [ext2/ext3]
Oct-31 12:59:33.532 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /home/ninon/description_prototype/v1/generated_workflow/bin
Oct-31 12:59:33.581 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Oct-31 12:59:33.602 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Oct-31 12:59:33.675 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Oct-31 12:59:33.694 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 5; maxThreads: 1000
Oct-31 12:59:33.803 [main] DEBUG nextflow.Session - Session start invoked
Oct-31 12:59:33.811 [main] DEBUG nextflow.trace.TraceFileObserver - Flow starting -- trace file: /home/ninon/description_prototype/v1/generated_workflow/_trace_RS1_D1_star_droso
Oct-31 12:59:34.213 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Oct-31 12:59:35.075 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-31 12:59:35.076 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-31 12:59:35.086 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Oct-31 12:59:35.098 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=4; memory=7.2 GB; capacity=4; pollInterval=100ms; dumpInterval=5m
Oct-31 12:59:35.303 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Oct-31 12:59:35.309 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Oct-31 12:59:35.315 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: SAMTOOLS_SORT_CONVERT, STAR_ALIGN
Oct-31 12:59:35.317 [main] DEBUG nextflow.Session - Ignite dataflow network (3)
Oct-31 12:59:35.329 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STAR_ALIGN
Oct-31 12:59:35.331 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SAMTOOLS_SORT_CONVERT
Oct-31 12:59:35.332 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Oct-31 12:59:35.332 [main] DEBUG nextflow.Session - Session await
Oct-31 12:59:36.165 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Oct-31 12:59:36.223 [Task submitter] INFO  nextflow.Session - [9f/b3c8a9] Submitted process > STAR_ALIGN (1)
Oct-31 12:59:36.320 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Oct-31 12:59:36.335 [Task submitter] INFO  nextflow.Session - [c6/8a6cc1] Submitted process > STAR_ALIGN (2)
Oct-31 12:59:37.227 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: STAR_ALIGN (1); status: COMPLETED; exit: 1; error: -; workDir: /home/ninon/description_prototype/v1/generated_workflow/work/9f/b3c8a98d2d96cdbfaca459b9b5bd62]
Oct-31 12:59:37.541 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'STAR_ALIGN (1)'

Caused by:
  Process `STAR_ALIGN (1)` terminated with an error exit status (1)

Command executed:

  if [[ (${params.strand} == "firststrand") || (${params.strand} == "secondstrand") ]]; then
  	STAR \
             --genomeDir . \
             --readFilesIn !{reads[0]} !{reads[1]}  \
             --runThreadN !{params.threads} \
             --outFileNamePrefix !{sample_name}. \
             --sjdbGTFfile !{annotation} \
  		--alignSoftClipAtReferenceEnds No \
  		--outFilterIntronMotifs RemoveNoncanonical \
  		--outSAMattrIHstart 0
  elif [[ ${params.strand} == "unstranded" ]]; then
  	STAR \
             --genomeDir . \
             --readFilesIn !{reads[0]} !{reads[1]}  \
  		--alignSoftClipAtReferenceEnds No \
  		--outSAMstrandField intronMotif \
  		--outFilterIntronMotifs RemoveNoncanonical \
         	--runThreadN !{params.threads} \
         	--outFileNamePrefix !{sample_name}. \
         	--sjdbGTFfile !{annotation} \
  		--outSAMattrIHstart 0
  else  
  	echo ${params.strand} > error_strandness.txt
  	echo "strandness cannot be determined" >> error_strandness.txt
  fi

Command exit status:
  1

Command output:
  (empty)

Command error:
  .command.sh: line 2: ${params.strand}: bad substitution

Work dir:
  /home/ninon/description_prototype/v1/generated_workflow/work/9f/b3c8a98d2d96cdbfaca459b9b5bd62

Tip: you can try to figure out what's wrong by changing to the process work dir and showing the script file named `.command.sh`
Oct-31 12:59:37.733 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `STAR_ALIGN (1)` terminated with an error exit status (1)
Oct-31 12:59:37.790 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] SAMTOOLS_SORT_CONVERT
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: -
  port 1: (cntrl) -     ; channel: $

Oct-31 12:59:37.807 [main] DEBUG nextflow.Session - Session await > all process finished
Oct-31 12:59:37.808 [main] DEBUG nextflow.Session - Session await > all barriers passed
Oct-31 12:59:37.811 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: STAR_ALIGN (2); status: COMPLETED; exit: 1; error: -; workDir: /home/ninon/description_prototype/v1/generated_workflow/work/c6/8a6cc1a5bf3b9997b1b50cfb97cbd5]
Oct-31 12:59:37.847 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=2; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=2.3s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=2; peakCpus=2; peakMemory=0; ]
Oct-31 12:59:37.848 [main] DEBUG nextflow.trace.TraceFileObserver - Flow completing -- flushing trace file
Oct-31 12:59:37.855 [main] DEBUG nextflow.trace.ReportObserver - Flow completing -- rendering html report
Oct-31 12:59:38.012 [main] DEBUG nextflow.trace.ReportObserver - Execution report summary data:
  [{"cpuUsage":null,"process":"STAR_ALIGN","mem":null,"memUsage":null,"timeUsage":null,"vmem":null,"reads":null,"cpu":null,"time":{"mean":1133,"min":881,"q1":1007,"q2":1133,"q3":1259,"max":1385,"minLabel":"STAR_ALIGN (1)","maxLabel":"STAR_ALIGN (2)","q1Label":"STAR_ALIGN (1)","q2Label":"STAR_ALIGN (1)","q3Label":"STAR_ALIGN (1)"},"writes":null}]
Oct-31 12:59:39.542 [main] DEBUG nextflow.trace.TimelineObserver - Flow completing -- rendering html timeline
Oct-31 12:59:39.920 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Oct-31 12:59:39.952 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
